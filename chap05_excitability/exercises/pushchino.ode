# Declare the variables
v(0)=-36.755
w(0)=0.070198
#
# Declare the parameters
#
param   gam=1
!v1=0.12/(30+gam)
!v2=30.12/(30+gam)
#
# Do the piecewise definitions using Heaviside functions
bigF(v)=-30*v*heav(v1-v) + (gam*v-0.12)*heav(v-v1)*heav(v2-v) -30*(v-1)*heav(v-v2)
tau(v)=2*heav(v1-v) + 2*heav(v-v1)
#
v'  = bigF(v)-w
w'  = (1/tau(v))*(v-w)
#
@ total=300,dt=0.1,xp=v,yp=w,xlo=-1, xhi=1.2, 
@ ylo=-0.5, yhi=1, dt=0.01, meth=gear
done
